(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";
var Http_1 = require('./Http');
var Page_1 = require('./Page');
var TestCase_1 = require('./TestCase');
var Router_1 = require('./Router');
var App = (function () {
    function App(config) {
        console.log('App starting ...');
        App.config = config;
        App.http = new Http_1.Http();
        this.router = new Router_1.Router();
        this.registerHandlebarsHelpers();
        this.router.addRoute('/', function () {
            Q.fcall(function () {
                var testCase = new TestCase_1.TestCase(TestCase_1.TestCase.createEmptyEntity());
                return new Page_1.Page(testCase);
            }).then(function (page) {
                page.render();
            });
        });
        this.router.addRoute('/test/{slug}', function (slug) {
            return App.http.getJSON(App.config.serverUri + "/test/" + slug + ".json").then(function (r) {
                var testCase = new TestCase_1.TestCase(r.getBody());
                return new Page_1.Page(testCase);
            }).then(function (page) {
                page.render();
            });
        });
        this.router.run();
    }
    App.prototype.registerHandlebarsHelpers = function () {
        Handlebars.registerHelper('if_eq', function (a, b, opts) {
            if (a === b) {
                return opts.fn(this);
            }
            else {
                return opts.inverse(this);
            }
        });
        Handlebars.registerHelper('if_sm', function (a, b, opts) {
            if (a < b) {
                return opts.fn(this);
            }
            else {
                return opts.inverse(this);
            }
        });
        Handlebars.registerHelper('timestamp', function () {
            return (new Date()).getTime();
        });
    };
    App.prototype.bindErrorLogging = function () {
        if (!('onerror' in window)) {
            return false;
        }
        var timeStamp = (new Date()).getTime();
        window.onerror = function (msg, url, lineNo, columnNo, error) {
            var diff = (new Date()).getTime() - timeStamp;
            var minutesDifference = Math.floor(diff / 1000 / 60);
            console.log('Minutes difference: ', minutesDifference);
            var errorDTO = {
                msg: msg,
                url: url || window.location.href,
                lineNo: lineNo,
                colNo: columnNo,
                trace: error.toString()
            };
            App.http.postJSON(App.config.serverUri + "/log.json", errorDTO).then(function () {
                timeStamp = (new Date()).getTime();
            });
        };
    };
    ;
    return App;
}());
exports.App = App;
},{"./Http":2,"./Page":3,"./Router":4,"./TestCase":6}],2:[function(require,module,exports){
"use strict";
var Http = (function () {
    function Http() {
    }
    Http.fromStringToJSON = function (str) {
        return str ? JSON.parse(str) : {};
    };
    Http.fromJSONToString = function (jsonObj) {
        return JSON.stringify(jsonObj);
    };
    Http.contentTypeIsJSON = function (header) {
        if (!header) {
            return false;
        }
        return !!header.match(/application\/json/i);
    };
    Http.prototype.sendRequest = function (request) {
        var deferred = Q.defer();
        var xhr = typeof XMLHttpRequest !== 'undefined' ? new XMLHttpRequest() : null;
        xhr.open(request.getMethod(), request.getUrl(), true);
        (function (headers) {
            for (var i in headers) {
                if (headers.hasOwnProperty(i)) {
                    xhr.setRequestHeader(i, headers[i]);
                }
            }
        })(request.getHeaders());
        var _response = this._response;
        xhr.onload = function () {
            if (xhr.readyState === Http.XHR_DONE) {
                _response = new Response(xhr.status, xhr.response);
                if (Http.contentTypeIsJSON(this.getResponseHeader('content-type'))) {
                    _response.setBody(Http.fromStringToJSON(_response.getBodyRaw()));
                }
                if (xhr.status === Http.HTTP_SUCCESS || xhr.status === Http.HTTP_CREATED) {
                    deferred.resolve(_response);
                }
                else {
                    deferred.reject(_response);
                }
            }
        };
        if (request.getBody()) {
            xhr.send(request.getBody());
        }
        else {
            xhr.send();
        }
        return deferred.promise;
    };
    Object.defineProperty(Http.prototype, "request", {
        get: function () {
            return this._request;
        },
        set: function (request) {
            this._request = request;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Http.prototype, "response", {
        get: function () {
            return this._response;
        },
        set: function (response) {
            this._response = response;
        },
        enumerable: true,
        configurable: true
    });
    Http.prototype.send = function (method, url, body) {
        return this.sendRequest(new Request(method, url, null, body));
    };
    Http.prototype.getJSON = function (url) {
        return this.sendRequest(new Request('GET', url, { 'Content-Type': 'application/json', 'Accept': 'application/json' }, null)).then(function (response) {
            return response;
        });
    };
    ;
    Http.prototype.postJSON = function (url, body) {
        var bodyString = Http.fromJSONToString(body);
        return this.sendRequest(new Request('POST', url, { 'Content-Type': 'application/json', 'Accept': 'application/json' }, bodyString)).then(function (response) {
            return response;
        });
    };
    ;
    Http.prototype.getHTML = function (url) {
        return this.sendRequest(new Request('GET', url, { 'Content-Type': 'text/html', 'Accept': 'text/html' }, null));
    };
    ;
    Http.HTTP_SUCCESS = 200;
    Http.HTTP_CREATED = 201;
    Http.HTTP_NOT_FOUND = 404;
    Http.HTTP_BAD_REQUEST = 400;
    Http.XHR_UNSENT = 0;
    Http.XHR_OPENED = 1;
    Http.XHR_HEADERS_RECEIVED = 2;
    Http.XHR_LOADING = 3;
    Http.XHR_DONE = 4;
    return Http;
}());
exports.Http = Http;
var Request = (function () {
    function Request(method, url, headers, body) {
        this.method = method;
        this.url = url;
        this.headers = headers || {};
        this.body = body;
    }
    ;
    Request.prototype.getMethod = function () {
        return this.method;
    };
    ;
    Request.prototype.getUrl = function () {
        return this.url;
    };
    ;
    Request.prototype.getHeaders = function () {
        return this.headers;
    };
    ;
    Request.prototype.getBody = function () {
        return this.body;
    };
    ;
    return Request;
}());
var Response = (function () {
    function Response(status, body) {
        this.status = status;
        this.body = body;
        this.bodyRaw = body;
    }
    ;
    Response.prototype.setStatus = function (status) {
        this.status = status;
    };
    ;
    Response.prototype.getStatus = function () {
        return this.status;
    };
    ;
    Response.prototype.setBody = function (body) {
        this.body = body;
    };
    ;
    Response.prototype.getBody = function () {
        return this.body;
    };
    ;
    Response.prototype.getBodyRaw = function () {
        return this.bodyRaw;
    };
    return Response;
}());
},{}],3:[function(require,module,exports){
"use strict";
var TestCase_1 = require('./TestCase');
var App_1 = require('./App');
var Runner_1 = require('./Runner');
var TotalChartPanel_1 = require('./TotalChartPanel');
var Page = (function () {
    function Page(testCase) {
        console.log('TestCase constructor ...');
        this.testCase = testCase;
    }
    Page.renderElem = function (id, html, data) {
        var $elem = document.getElementById(id);
        var template = Handlebars.compile(html);
        $elem.innerHTML = template(data);
    };
    Page.prototype.render = function () {
        var _this = this;
        App_1.App.http.getHTML(App_1.App.config.clientUri + '/tpl/testcase-sidebar-form.hbs')
            .then(function (r) {
            Page.renderElem('testcase-sidebar-form', r.getBody(), _this.testCase);
        })
            .then(function () {
            _this.bindSaveBtn();
            _this.bindRunBtn();
        });
        Q.spread([
            App_1.App.http.getHTML(App_1.App.config.clientUri + '/tpl/testcase-sidebar-listing.hbs')
        ], function (dataR, tplR) {
            Page.renderElem('testcase-sidebar-listing', dataR.getBody(), tplR.getBody());
        });
        Q.spread([
            App_1.App.http.getHTML(App_1.App.config.clientUri + '/tpl/testcase-entry-form.hbs'),
            App_1.App.http.getHTML(App_1.App.config.clientUri + '/tpl/testcase-main-form.hbs')
        ], function (tplEntryR, tplMainR) {
            Handlebars.registerPartial('entry', tplEntryR.getBody());
            Page.renderElem('testcase-main-form', tplMainR.getBody(), _this.testCase);
        }).then(function () {
            _this.bindAddTestEntryBtn();
        });
    };
    Page.renderErrorPopup = function (error) {
        console.log(error);
        var msgTxt = 'Some kind of error occurred.';
        if (error.error && error.error.message) {
            msgTxt = error.error.message;
        }
        window.alert(msgTxt);
    };
    Page.prototype.renderChartPanel = function () {
        var panel = new TotalChartPanel_1.TotalChartPanel(this, this.testCase);
        panel.getData().then(function (r) {
            panel.render(r.getBody());
        }, function (response) {
            Page.renderErrorPopup(response.getBody());
        });
    };
    ;
    Page.prototype.bindSaveBtn = function () {
        var $saveBtn = document.getElementById('save-testcase-button');
        $saveBtn.addEventListener('click', function (e) {
            e.preventDefault();
            Page.toggleRenderBtn('save-testcase-button', 'disable');
            var testCaseDTO = TestCase_1.TestCase.createEntityFromDOMElement('wrapper');
            testCaseDTO.env = {
                browserName: platform.name,
                browserVersion: platform.version,
                os: platform.os
            };
            App_1.App.http.postJSON(App_1.App.config.serverUri + '/tests.json', testCaseDTO)
                .then(function () {
                Page.toggleRenderBtn('save-testcase-button', 'activate');
            }, function (response) {
                Page.toggleRenderBtn('save-testcase-button', 'activate');
                Page.renderErrorPopup(response.getBody());
            });
        });
    };
    Page.prototype.bindRunBtn = function () {
        var _page = this;
        var $runBtn = document.getElementById('run-testcase-button');
        $runBtn.addEventListener('click', function (e) {
            e.preventDefault();
            Page.toggleRenderBtn('run-testcase-button', 'disable');
            var testCaseDTO = TestCase_1.TestCase.createEntityFromDOMElement('wrapper');
            testCaseDTO.env = {
                browserName: platform.name,
                browserVersion: platform.version,
                os: platform.os
            };
            App_1.App.http.getHTML(App_1.App.config.clientUri + "/tpl/testcase-results-table.hbs")
                .then(function (r) {
                Page.renderElem('results', r.getBody(), testCaseDTO);
                var runner = new Runner_1.Runner(new TestCase_1.TestCase(testCaseDTO));
                runner.run().then(function (results) {
                    Page.toggleRenderBtn('run-testcase-button', 'activate');
                    _page.sendResults(results).then(function () {
                        console.log('Rendering Chart Panel ...');
                        _page.renderChartPanel();
                    });
                }, function (error) {
                    Page.renderErrorPopup(error);
                });
            });
        }, false);
    };
    Page.prototype.bindAddTestEntryBtn = function () {
        var _this = this;
        var $btn = document.getElementById('add-test-link');
        $btn.addEventListener('click', function (e) {
            e.preventDefault();
            console.log('click?');
            App_1.App.http.getHTML(App_1.App.config.clientUri + "/tpl/testcase-entry-form.hbs").then(function (response) {
                var entryId = Page.getNextTestCaseEntryId();
                var newTestEntry = TestCase_1.TestCase.createEmptyTestCaseEntry(entryId);
                _this.testCase.addEntry(newTestEntry);
                var template = Handlebars.compile(response.getBody());
                var html = template(newTestEntry);
                var $newEntry = document.createElement('div');
                $newEntry.innerHTML = html;
                var $entries = document.getElementById('entries');
                $entries.appendChild($newEntry.firstChild);
                _this.bindRemoveTestEntryBtn(entryId);
            });
        });
    };
    ;
    Page.prototype.bindRemoveTestEntryBtn = function (entryId) {
        var _this = this;
        var $entries = document.getElementById('entries');
        var $entry = document.getElementById('testcase-test-' + entryId);
        var $button = $entry.getElementsByClassName('testcase-test-remove');
        $button[0].addEventListener('click', function (e) {
            console.log('click?');
            _this.testCase.removeEntry(entryId);
            $entries.removeChild($entry);
        });
    };
    ;
    Page.getNextTestCaseEntryId = function () {
        return document.getElementsByClassName('testcase-test').length + 1;
    };
    Page.toggleRenderBtn = function (id, status) {
        var $btn = document.getElementById(id);
        if (status === 'activate') {
            $btn.classList.remove('btn-loading');
            $btn.disabled = false;
        }
        else {
            $btn.className += ' btn-loading';
            $btn.disabled = true;
        }
    };
    Page.prototype.sendResults = function (results) {
        var testCaseDTO = TestCase_1.TestCase.createEntityFromDOMElement('wrapper');
        for (var i in results) {
            if (!results.hasOwnProperty(i)) {
                continue;
            }
            testCaseDTO.entries[i].results = results[i];
        }
        testCaseDTO.env = {
            browserName: platform.name,
            browserVersion: platform.version,
            os: platform.os
        };
        console.log(testCaseDTO, JSON.stringify(testCaseDTO));
        this.testCase = TestCase_1.TestCase.create(testCaseDTO);
        return App_1.App.http.postJSON(App_1.App.config.serverUri + "/tests.json", testCaseDTO);
    };
    ;
    return Page;
}());
exports.Page = Page;
},{"./App":1,"./Runner":5,"./TestCase":6,"./TotalChartPanel":7}],4:[function(require,module,exports){
"use strict";
var Router = (function () {
    function Router() {
        this.routes = [];
    }
    Router.prototype.run = function (customPath) {
        var path = customPath ? customPath : window.location.pathname;
        var route = this.matchRoute(path);
        if (route) {
            return route.action.apply(null, route.args);
        }
        else {
            return new Error('No valid route found.');
        }
    };
    Router.prototype.addRoute = function (path, action) {
        if (!path || !action) {
            return false;
        }
        this.routes.push({
            path: path,
            action: action
        });
    };
    Router.prototype.matchRoute = function (path) {
        var matchFound;
        var preparedPath;
        for (var i = 0; i < this.routes.length; i++) {
            preparedPath = "^" + Router.preparePath(this.routes[i].path) + "$";
            matchFound = path.match(new RegExp(preparedPath, 'i'));
            if (matchFound) {
                var args = matchFound.slice(1, matchFound.length);
                return {
                    path: this.routes[i].path,
                    action: this.routes[i].action,
                    args: args,
                    requestedPath: path
                };
            }
        }
    };
    Router.preparePath = function (path) {
        return path.replace(/{[a-z]+}/g, '([a-z0-9-]+)');
    };
    return Router;
}());
exports.Router = Router;
},{}],5:[function(require,module,exports){
"use strict";
var Runner = (function () {
    function Runner(testCase) {
        this.testCase = testCase;
    }
    Runner.prototype.run = function () {
        if (!this.testCase.isReadyToRun()) {
            throw new Error('You need to have at least two code entries in order to run the test case.');
        }
        console.log('Starting runner ...');
        return this.startBench();
    };
    Runner.prototype.startBench = function () {
        var deferredQ = Q.defer();
        var testCase = this.testCase;
        var benches = [];
        var bench;
        var results = {};
        for (var j in testCase.entries) {
            if (!testCase.entries.hasOwnProperty(j)) {
                continue;
            }
            bench = new Benchmark(testCase.entries[j].title, {
                id: j,
                async: true,
                setup: testCase.harness.setUp,
                teardown: testCase.harness.tearDown,
                fn: testCase.entries[j].code,
                onStart: function (e) {
                    var benchResult = e.target;
                    Runner.renderResult(benchResult.id, 'Starting ...');
                },
                onComplete: function (e) {
                    var benchResult = e.target;
                    results[benchResult.id] = {
                        id: benchResult.id,
                        error: benchResult.error ? Benchmark.join(benchResult.error) : null,
                        opsPerSec: benchResult.hz.toFixed(benchResult.hz < 100 ? 2 : 0),
                        opsPerSecFormatted: Benchmark.formatNumber(benchResult.hz.toFixed(benchResult.hz < 100 ? 2 : 0)),
                        pm: benchResult.stats.rme.toFixed(2),
                        runSamples: benchResult.stats.sample.length
                    };
                    Runner.renderResult(benchResult.id, results[benchResult.id].opsPerSecFormatted + ' (&plusmn;' + results[benchResult.id].pm + ')');
                }
            });
            benches.push(bench);
        }
        setTimeout(function () {
            Benchmark.invoke(benches, {
                name: 'run',
                args: true,
                onStart: function (e) {
                    console.log('Starting benchmarks ...', e);
                },
                onCycle: function (e) {
                    console.log('onCycle here.', e);
                },
                onError: function (e) {
                    console.log('onError here.', e);
                    deferredQ.reject(new Error('Running suite returned an error.'));
                },
                onComplete: function (e) {
                    console.log('onComplete here.', e, results);
                    Runner.renderWinnerResult(Benchmark.filter(benches, 'fastest')[0].id);
                    Runner.renderLoserResult(Benchmark.filter(benches, 'slowest')[0].id);
                    deferredQ.resolve(results);
                }
            });
        }, 2000);
        return deferredQ.promise;
    };
    Runner.renderResult = function (id, text) {
        var $elem = document.getElementById('testcase-test-result-text-' + id);
        $elem.innerHTML = text;
    };
    ;
    Runner.renderWinnerResult = function (id) {
        var $elem = document.getElementById('testcase-test-result-text-' + id);
        $elem.className += ' success';
    };
    ;
    Runner.renderLoserResult = function (id) {
        var $elem = document.getElementById('testcase-test-result-text-' + id);
        $elem.className += ' danger';
    };
    ;
    return Runner;
}());
exports.Runner = Runner;
},{}],6:[function(require,module,exports){
"use strict";
var Utils_1 = require('./Utils');
var TestCase = (function () {
    function TestCase(testCase) {
        this.title = testCase.title;
        this.slug = testCase.slug;
        this.description = testCase.description;
        this.status = testCase.status;
        this.harness = testCase.harness;
        this.entries = testCase.entries;
        this.env = testCase.env;
    }
    Object.defineProperty(TestCase.prototype, "title", {
        get: function () {
            return this._title;
        },
        set: function (title) {
            this._title = title;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TestCase.prototype, "slug", {
        get: function () {
            return this._slug;
        },
        set: function (slug) {
            this._slug = slug;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TestCase.prototype, "description", {
        get: function () {
            return this._description;
        },
        set: function (description) {
            this._description = description;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TestCase.prototype, "status", {
        get: function () {
            return this._status;
        },
        set: function (status) {
            this._status = status;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TestCase.prototype, "harness", {
        get: function () {
            return this._harness;
        },
        set: function (harness) {
            this._harness = harness;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TestCase.prototype, "entries", {
        get: function () {
            return this._entries;
        },
        set: function (entries) {
            this._entries = entries;
        },
        enumerable: true,
        configurable: true
    });
    TestCase.prototype.addEntry = function (entry) {
        this._entries[entry.id] = entry;
    };
    TestCase.prototype.removeEntry = function (id) {
        delete this._entries[id];
    };
    Object.defineProperty(TestCase.prototype, "env", {
        get: function () {
            return this._env;
        },
        set: function (env) {
            this._env = env;
        },
        enumerable: true,
        configurable: true
    });
    TestCase.prototype.isReadyToRun = function () {
        return (Utils_1.Util.getObjLength(this.entries) > 2);
    };
    TestCase.create = function (testCaseEntity) {
        return new TestCase(testCaseEntity);
    };
    TestCase.createEmptyEntity = function () {
        return {
            title: '',
            slug: Utils_1.Util.randomString(10),
            description: '',
            status: 'public',
            harness: {
                html: '',
                setUp: '',
                tearDown: ''
            },
            entries: [
                { id: 1, title: '', code: '' },
                { id: 2, title: '', code: '' }
            ]
        };
    };
    TestCase.createEntityFromDOMElement = function (id) {
        var $elem = document.getElementById(id);
        var result = formToObject($elem);
        return result.testCase;
    };
    TestCase.createEmptyTestCaseEntry = function (id) {
        return {
            id: id,
            title: '',
            code: ''
        };
    };
    return TestCase;
}());
exports.TestCase = TestCase;
},{"./Utils":8}],7:[function(require,module,exports){
"use strict";
var App_1 = require('./App');
var TotalChartPanel = (function () {
    function TotalChartPanel(page, testCase) {
        this.page = page;
        this.testCase = testCase;
    }
    TotalChartPanel.prototype.getData = function () {
        return App_1.App.http.getJSON(App_1.App.config.serverUri + "/test/" + this.testCase.slug + "/totals/by-browser.json");
    };
    TotalChartPanel.prototype.render = function (data) {
        var _this = this;
        var $chartDiv = document.getElementById('chart-div');
        if ($chartDiv.className === 'rendered') {
            this._render(data);
        }
        else {
            google.charts.load('current', { packages: ['corechart', 'bar'] });
            google.charts.setOnLoadCallback(function () {
                _this._render(data);
            });
        }
    };
    TotalChartPanel.prototype._render = function (data) {
        var $chartDiv = document.getElementById('chart-div');
        var chart = new google.visualization.BarChart($chartDiv);
        var browsers = [];
        var resultsSet = [];
        data.map(function (entry) {
            var entryResults = {
                title: entry.title
            };
            entry.totals.forEach(function (total) {
                var browserIdentifier = total.browserName;
                if (browsers.indexOf(browserIdentifier) === -1) {
                    browsers.push(browserIdentifier);
                }
                entryResults[browserIdentifier] = parseInt(total.metricValue);
            });
            resultsSet.push(_.map(entryResults));
        });
        browsers.unshift('Total');
        resultsSet.unshift(browsers);
        var options = {
            legend: {
                position: 'bottom'
            },
            bars: 'horizontal',
            chartArea: {
                width: '80%',
                'height': '80%'
            }
        };
        chart.draw(google.visualization.arrayToDataTable(resultsSet), options);
        $chartDiv.className = 'rendered';
    };
    return TotalChartPanel;
}());
exports.TotalChartPanel = TotalChartPanel;
},{"./App":1}],8:[function(require,module,exports){
"use strict";
var Util = (function () {
    function Util() {
    }
    Util.randomString = function (len, charSet) {
        charSet = charSet || 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
        var randomString = '';
        for (var i = 0; i < len; i++) {
            var randomPoz = Math.floor(Math.random() * charSet.length);
            randomString += charSet.substring(randomPoz, randomPoz + 1);
        }
        return randomString;
    };
    Util.getObjLength = function (o) {
        if (typeof o !== 'object' || o === null) {
            return 0;
        }
        var l = 0;
        var k;
        if (typeof Object.keys === 'function') {
            l = Object.keys(o).length;
        }
        else {
            for (k in o) {
                if (o.hasOwnProperty(k)) {
                    l++;
                }
            }
        }
        return l;
    };
    Util.escapeForRegex = function (str) {
        return str.replace(/[-\/\\^$*+?.()|[\]]/g, '\\$&');
    };
    return Util;
}());
exports.Util = Util;
},{}],9:[function(require,module,exports){
"use strict";
var App_1 = require('./App');
var serverUri = window.location.host === 'jsbench.org' ? 'http://api.jsbench.org/v2' : 'http://api-dev.jsbench.org/v2';
var clientUri = 'http://' + window.location.host;
new App_1.App({
    serverUri: serverUri,
    clientUri: clientUri
});
},{"./App":1}]},{},[9])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJ0cy9BcHAudHMiLCJ0cy9IdHRwLnRzIiwidHMvUGFnZS50cyIsInRzL1JvdXRlci50cyIsInRzL1J1bm5lci50cyIsInRzL1Rlc3RDYXNlLnRzIiwidHMvVG90YWxDaGFydFBhbmVsLnRzIiwidHMvVXRpbHMudHMiLCJ0cy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUNBQSxxQkFBMEMsUUFBUSxDQUFDLENBQUE7QUFDbkQscUJBQW1CLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLHlCQUF1QyxZQUFZLENBQUMsQ0FBQTtBQUNwRCx1QkFBcUIsVUFBVSxDQUFDLENBQUE7QUFFaEM7SUFLSSxhQUFtQixNQUEwQjtRQUN6QyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDaEMsR0FBRyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDcEIsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLFdBQUksRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxlQUFNLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMseUJBQXlCLEVBQUUsQ0FBQztRQUdqQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUU7WUFDdEIsQ0FBQyxDQUFDLEtBQUssQ0FBQztnQkFDSixJQUFJLFFBQVEsR0FBRyxJQUFJLG1CQUFRLENBQUMsbUJBQVEsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7Z0JBQzFELE1BQU0sQ0FBQyxJQUFJLFdBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM5QixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBUyxJQUFVO2dCQUN2QixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDbEIsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztRQUVI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QUFRLENBQUMsSUFBSSxDQUFDO0FBRWpELElBQUksU0FBRyxDQUFDO0lBQ0osU0FBUyxFQUFFLFNBQVM7SUFDcEIsU0FBUyxFQUFHLFNBQVM7Q0FDeEIsQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7SHR0cCwgSHR0cFJlc3BvbnNlSW50ZXJmYWNlfSBmcm9tICcuL0h0dHAnO1xyXG5pbXBvcnQge1BhZ2V9IGZyb20gJy4vUGFnZSc7XHJcbmltcG9ydCB7VGVzdENhc2UsIFRlc3RDYXNlRW50aXR5fSBmcm9tICcuL1Rlc3RDYXNlJztcclxuaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJy4vUm91dGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAge1xyXG4gICAgcHVibGljIHN0YXRpYyBjb25maWc6IEFwcENvbmZpZ0ludGVyZmFjZTtcclxuICAgIHB1YmxpYyBzdGF0aWMgaHR0cDogSHR0cDtcclxuICAgIHB1YmxpYyByb3V0ZXI6IFJvdXRlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29uZmlnOiBBcHBDb25maWdJbnRlcmZhY2UpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQXBwIHN0YXJ0aW5nIC4uLicpO1xyXG4gICAgICAgIEFwcC5jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgQXBwLmh0dHAgPSBuZXcgSHR0cCgpO1xyXG4gICAgICAgIHRoaXMucm91dGVyID0gbmV3IFJvdXRlcigpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJIYW5kbGViYXJzSGVscGVycygpO1xyXG5cclxuICAgICAgICAvLyBBZGQgJ2RlZmF1bHQnIHJvdXRlcy5cclxuICAgICAgICB0aGlzLnJvdXRlci5hZGRSb3V0ZSgnLycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBRLmZjYWxsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3RDYXNlID0gbmV3IFRlc3RDYXNlKFRlc3RDYXNlLmNyZWF0ZUVtcHR5RW50aXR5KCkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQYWdlKHRlc3RDYXNlKTtcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihwYWdlOiBQYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlLnJlbmRlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yb3V0ZXIuYWRkUm91dGUoJy90ZXN0L3tzbHVnfScsIGZ1bmN0aW9uKHNsdWc6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gQXBwLmh0dHAuZ2V0SlNPTihgJHtBcHAuY29uZmlnLnNlcnZlclVyaX0vdGVzdC8ke3NsdWd9Lmpzb25gKS50aGVuKGZ1bmN0aW9uIChyOiBIdHRwUmVzcG9uc2VJbnRlcmZhY2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0Q2FzZSA9IG5ldyBUZXN0Q2FzZSg8VGVzdENhc2VFbnRpdHk+ci5nZXRCb2R5KCkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQYWdlKHRlc3RDYXNlKTtcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihwYWdlOiBQYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlLnJlbmRlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yb3V0ZXIucnVuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlZ2lzdGVySGFuZGxlYmFyc0hlbHBlcnMoKSB7XHJcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZfZXEnLCBmdW5jdGlvbihhOiBhbnksIGI6IGFueSwgb3B0czogYW55KSB7XHJcbiAgICAgICAgICAgIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5mbih0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLmludmVyc2UodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZfc20nLCBmdW5jdGlvbihhOiBhbnksIGI6IGFueSwgb3B0czogYW55KSB7XHJcbiAgICAgICAgICAgIGlmIChhIDwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdHMuZm4odGhpcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5pbnZlcnNlKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3RpbWVzdGFtcCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYmluZEVycm9yTG9nZ2luZygpIHtcclxuICAgICAgICBpZiAoISgnb25lcnJvcicgaW4gd2luZG93KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdGltZVN0YW1wID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgd2luZG93Lm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIHVybCwgbGluZU5vLCBjb2x1bW5ObywgZXJyb3IpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBkaWZmID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAtIHRpbWVTdGFtcDtcclxuICAgICAgICAgICAgdmFyIG1pbnV0ZXNEaWZmZXJlbmNlID0gTWF0aC5mbG9vcihkaWZmIC8gMTAwMCAvIDYwKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNaW51dGVzIGRpZmZlcmVuY2U6ICcsIG1pbnV0ZXNEaWZmZXJlbmNlKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBlcnJvckRUTyA9IHtcclxuICAgICAgICAgICAgICAgIG1zZzogbXNnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYsXHJcbiAgICAgICAgICAgICAgICBsaW5lTm86IGxpbmVObyxcclxuICAgICAgICAgICAgICAgIGNvbE5vOiBjb2x1bW5ObyxcclxuICAgICAgICAgICAgICAgIHRyYWNlOiBlcnJvci50b1N0cmluZygpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBBcHAuaHR0cC5wb3N0SlNPTihgJHtBcHAuY29uZmlnLnNlcnZlclVyaX0vbG9nLmpzb25gLCBlcnJvckRUTykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRpbWVTdGFtcCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQXBwQ29uZmlnSW50ZXJmYWNlIHtcclxuICAgIHNlcnZlclVyaTogc3RyaW5nO1xyXG4gICAgY2xpZW50VXJpOiBzdHJpbmc7XHJcbn1cclxuIiwiaW1wb3J0IFByb21pc2UgPSBRLlByb21pc2U7XHJcbmV4cG9ydCBjbGFzcyBIdHRwIHtcclxuICAgIHByb3RlY3RlZCBfcmVxdWVzdDogSHR0cFJlcXVlc3RJbnRlcmZhY2U7XHJcbiAgICBwcm90ZWN0ZWQgX3Jlc3BvbnNlOiBIdHRwUmVzcG9uc2VJbnRlcmZhY2U7XHJcblxyXG4gICAgLy8gSFRUUCBjb2Rlcy5cclxuICAgIHB1YmxpYyBzdGF0aWMgSFRUUF9TVUNDRVNTOiBudW1iZXIgPSAyMDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIEhUVFBfQ1JFQVRFRDogbnVtYmVyID0gMjAxO1xyXG4gICAgcHVibGljIHN0YXRpYyBIVFRQX05PVF9GT1VORDogbnVtYmVyID0gNDA0O1xyXG4gICAgcHVibGljIHN0YXRpYyBIVFRQX0JBRF9SRVFVRVNUOiBudW1iZXIgPSA0MDA7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBYSFJfVU5TRU5UOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHN0YXRpYyBYSFJfT1BFTkVEOiBudW1iZXIgPSAxO1xyXG4gICAgcHVibGljIHN0YXRpYyBYSFJfSEVBREVSU19SRUNFSVZFRDogbnVtYmVyID0gMjtcclxuICAgIHB1YmxpYyBzdGF0aWMgWEhSX0xPQURJTkc6IG51bWJlciA9IDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIFhIUl9ET05FOiBudW1iZXIgPSA0O1xyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgZnJvbVN0cmluZ1RvSlNPTihzdHI6IHN0cmluZyk6IE9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHN0ciA/IEpTT04ucGFyc2Uoc3RyKSA6IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgZnJvbUpTT05Ub1N0cmluZyhqc29uT2JqOiBPYmplY3QpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShqc29uT2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIGNvbnRlbnRUeXBlSXNKU09OKGhlYWRlcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFoZWFkZXIpIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgcmV0dXJuICEhaGVhZGVyLm1hdGNoKC9hcHBsaWNhdGlvblxcL2pzb24vaSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRSZXF1ZXN0KHJlcXVlc3Q6IEh0dHBSZXF1ZXN0SW50ZXJmYWNlKTogUHJvbWlzZTxIdHRwUmVzcG9uc2VJbnRlcmZhY2U+IHtcclxuICAgICAgICB2YXIgZGVmZXJyZWQgPSBRLmRlZmVyPEh0dHBSZXNwb25zZUludGVyZmFjZT4oKTtcclxuICAgICAgICB2YXIgeGhyID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJyA/IG5ldyBYTUxIdHRwUmVxdWVzdCgpIDogbnVsbDtcclxuICAgICAgICB4aHIub3BlbihyZXF1ZXN0LmdldE1ldGhvZCgpLCByZXF1ZXN0LmdldFVybCgpLCB0cnVlKTtcclxuXHJcbiAgICAgICAgKGZ1bmN0aW9uKGhlYWRlcnM6IEh0dHBIZWFkZXJzSW50ZXJmYWNlKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gaGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihpLCBoZWFkZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKHJlcXVlc3QuZ2V0SGVhZGVycygpKTtcclxuXHJcbiAgICAgICAgdmFyIF9yZXNwb25zZSA9IHRoaXMuX3Jlc3BvbnNlO1xyXG4gICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSBIdHRwLlhIUl9ET05FKSB7XHJcbiAgICAgICAgICAgICAgICBfcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoeGhyLnN0YXR1cywgeGhyLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHJlc3BvbnNlIGJvZHkgdG8gSlNPTi5cclxuICAgICAgICAgICAgICAgIC8vIEtlZXAgdGhlIHJhdyBib2R5IHVudG91Y2hlZC5cclxuICAgICAgICAgICAgICAgIGlmIChIdHRwLmNvbnRlbnRUeXBlSXNKU09OKHRoaXMuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZS5zZXRCb2R5KEh0dHAuZnJvbVN0cmluZ1RvSlNPTihfcmVzcG9uc2UuZ2V0Qm9keVJhdygpKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gSHR0cC5IVFRQX1NVQ0NFU1MgfHwgeGhyLnN0YXR1cyA9PT0gSHR0cC5IVFRQX0NSRUFURUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChfcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKHJlcXVlc3QuZ2V0Qm9keSgpKSB7XHJcbiAgICAgICAgICAgIHhoci5zZW5kKHJlcXVlc3QuZ2V0Qm9keSgpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCByZXF1ZXN0KCk6IEh0dHBSZXF1ZXN0SW50ZXJmYWNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IHJlcXVlc3QocmVxdWVzdDogSHR0cFJlcXVlc3RJbnRlcmZhY2UpIHtcclxuICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gcmVxdWVzdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHJlc3BvbnNlKCk6IEh0dHBSZXNwb25zZUludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgcmVzcG9uc2UocmVzcG9uc2U6IEh0dHBSZXNwb25zZUludGVyZmFjZSkge1xyXG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlID0gcmVzcG9uc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmQobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBib2R5OiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVxdWVzdChcclxuICAgICAgICAgICAgbmV3IFJlcXVlc3QobWV0aG9kLCB1cmwsIG51bGwsIGJvZHkpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SlNPTih1cmw6IHN0cmluZyk6IFByb21pc2U8SHR0cFJlc3BvbnNlSW50ZXJmYWNlPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFJlcXVlc3QoXHJcbiAgICAgICAgICAgIG5ldyBSZXF1ZXN0KCdHRVQnLCB1cmwsIHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nfSwgbnVsbClcclxuICAgICAgICApLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2U6IEh0dHBSZXNwb25zZUludGVyZmFjZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBwb3N0SlNPTih1cmw6IHN0cmluZywgYm9keTogT2JqZWN0KTogUHJvbWlzZTxIdHRwUmVzcG9uc2VJbnRlcmZhY2U+IHtcclxuICAgICAgICB2YXIgYm9keVN0cmluZyA9IEh0dHAuZnJvbUpTT05Ub1N0cmluZyhib2R5KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVxdWVzdChcclxuICAgICAgICAgICAgbmV3IFJlcXVlc3QoJ1BPU1QnLCB1cmwsIHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nfSwgYm9keVN0cmluZylcclxuICAgICAgICApLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2U6IEh0dHBSZXNwb25zZUludGVyZmFjZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBnZXRIVE1MKHVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFJlcXVlc3QoXHJcbiAgICAgICAgICAgIG5ldyBSZXF1ZXN0KCdHRVQnLCB1cmwsIHsnQ29udGVudC1UeXBlJzogJ3RleHQvaHRtbCcsICdBY2NlcHQnOiAndGV4dC9odG1sJ30sIG51bGwpXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcbn1cclxuXHJcbmNsYXNzIFJlcXVlc3QgaW1wbGVtZW50cyBIdHRwUmVxdWVzdEludGVyZmFjZSB7XHJcbiAgICBwcm90ZWN0ZWQgbWV0aG9kOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgdXJsOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgaGVhZGVyczogSHR0cEhlYWRlcnNJbnRlcmZhY2U7XHJcbiAgICBwcm90ZWN0ZWQgYm9keTogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgaGVhZGVyczogSHR0cEhlYWRlcnNJbnRlcmZhY2UsIGJvZHk6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnMgfHwge307XHJcbiAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGdldE1ldGhvZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZDtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGdldFVybCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGdldEhlYWRlcnMoKTogSHR0cEhlYWRlcnNJbnRlcmZhY2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhlYWRlcnM7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBnZXRCb2R5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9keTtcclxuICAgIH07XHJcbn1cclxuXHJcbmludGVyZmFjZSBIdHRwUmVxdWVzdEludGVyZmFjZSB7XHJcbiAgICBnZXRNZXRob2QoKTogc3RyaW5nO1xyXG4gICAgZ2V0VXJsKCk6IHN0cmluZztcclxuICAgIGdldEhlYWRlcnMoKTogSHR0cEhlYWRlcnNJbnRlcmZhY2U7XHJcbiAgICBnZXRCb2R5KCk6IHN0cmluZyB8IE9iamVjdDtcclxufVxyXG5cclxuY2xhc3MgUmVzcG9uc2UgaW1wbGVtZW50cyBIdHRwUmVzcG9uc2VJbnRlcmZhY2Uge1xyXG4gICAgcHJvdGVjdGVkIHN0YXR1czogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIGJvZHk6IHN0cmluZyB8IE9iamVjdDtcclxuICAgIHByb3RlY3RlZCBib2R5UmF3OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3RhdHVzOiBudW1iZXIsIGJvZHk6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xyXG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XHJcbiAgICAgICAgdGhpcy5ib2R5UmF3ID0gYm9keTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHNldFN0YXR1cyhzdGF0dXM6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0U3RhdHVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgc2V0Qm9keShib2R5OiBzdHJpbmcgfCBPYmplY3QpIHtcclxuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Qm9keSgpOiBzdHJpbmcgfCBPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJvZHk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBnZXRCb2R5UmF3KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9keVJhdztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIdHRwUmVzcG9uc2VJbnRlcmZhY2Uge1xyXG4gICAgZ2V0U3RhdHVzKCk6IG51bWJlcjtcclxuICAgIHNldFN0YXR1cyhzdGF0dXM6IG51bWJlcik6IHZvaWQ7XHJcbiAgICBnZXRCb2R5KCk6IHN0cmluZyB8IE9iamVjdDtcclxuICAgIHNldEJvZHkoYm9keTogc3RyaW5nIHwgT2JqZWN0KTogdm9pZDtcclxuICAgIGdldEJvZHlSYXcoKTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSHR0cEhlYWRlcnNJbnRlcmZhY2Uge1xyXG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xyXG59XHJcbiIsImltcG9ydCB7VGVzdENhc2UsIFRlc3RDYXNlRW52fSBmcm9tICcuL1Rlc3RDYXNlJztcclxuaW1wb3J0IHtBcHB9IGZyb20gJy4vQXBwJztcclxuaW1wb3J0IHtIdHRwUmVzcG9uc2VJbnRlcmZhY2V9IGZyb20gJy4vSHR0cCc7XHJcbmltcG9ydCB7UnVubmVyLCBSdW5uZXJSZXN1bHR9IGZyb20gJy4vUnVubmVyJztcclxuaW1wb3J0IHtUb3RhbEJ5QnJvd3NlciwgVG90YWxDaGFydFBhbmVsfSBmcm9tICcuL1RvdGFsQ2hhcnRQYW5lbCc7XHJcbmltcG9ydCBQcm9taXNlID0gUS5Qcm9taXNlO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2Uge1xyXG4gICAgcHJvdGVjdGVkIHRlc3RDYXNlOiBUZXN0Q2FzZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IodGVzdENhc2U6IFRlc3RDYXNlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Rlc3RDYXNlIGNvbnN0cnVjdG9yIC4uLicpO1xyXG4gICAgICAgIHRoaXMudGVzdENhc2UgPSB0ZXN0Q2FzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlbmRlckVsZW0oaWQ6IHN0cmluZywgaHRtbDogc3RyaW5nLCBkYXRhOiBPYmplY3QpIHtcclxuICAgICAgICB2YXIgJGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGh0bWwpO1xyXG4gICAgICAgICRlbGVtLmlubmVySFRNTCA9IHRlbXBsYXRlKGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICAgICAgLy8gUmVuZGVyICdTaWRlYmFyJy5cclxuICAgICAgICBBcHAuaHR0cC5nZXRIVE1MKEFwcC5jb25maWcuY2xpZW50VXJpICsgJy90cGwvdGVzdGNhc2Utc2lkZWJhci1mb3JtLmhicycpXHJcbiAgICAgICAgICAgIC50aGVuKChyOiBIdHRwUmVzcG9uc2VJbnRlcmZhY2UpID0+IHtcclxuICAgICAgICAgICAgICAgIFBhZ2UucmVuZGVyRWxlbSgndGVzdGNhc2Utc2lkZWJhci1mb3JtJywgPHN0cmluZz5yLmdldEJvZHkoKSwgdGhpcy50ZXN0Q2FzZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmluZFNhdmVCdG4oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmluZFJ1bkJ0bigpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVuZGVyICdMaXN0aW5ncycuXHJcbiAgICAgICAgUS5zcHJlYWQoW1xyXG4gICAgICAgICAgICAvLyBBcHAuaHR0cC5nZXRKU09OKEFwcC5jb25maWcuc2VydmVyVXJpICsgJy90ZXN0cy5qc29uP2V4Y2x1ZGU9cmV2aXNpb25fbnVtYmVyLGRlc2NyaXB0aW9uLGhhcm5lc3MsZW50cmllcyxzdGF0dXMmb3JkZXJCeT1sYXRlc3QmbGltaXQ9MjUnKSxcclxuICAgICAgICAgICAgQXBwLmh0dHAuZ2V0SFRNTChBcHAuY29uZmlnLmNsaWVudFVyaSArICcvdHBsL3Rlc3RjYXNlLXNpZGViYXItbGlzdGluZy5oYnMnKVxyXG4gICAgICAgIF0sIChkYXRhUjogSHR0cFJlc3BvbnNlSW50ZXJmYWNlLCB0cGxSOiBIdHRwUmVzcG9uc2VJbnRlcmZhY2UpID0+IHtcclxuICAgICAgICAgICAgUGFnZS5yZW5kZXJFbGVtKCd0ZXN0Y2FzZS1zaWRlYmFyLWxpc3RpbmcnLCA8c3RyaW5nPmRhdGFSLmdldEJvZHkoKSwgdHBsUi5nZXRCb2R5KCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZW5kZXIgJ01haW4gZm9ybScuXHJcbiAgICAgICAgUS5zcHJlYWQoW1xyXG4gICAgICAgICAgICBBcHAuaHR0cC5nZXRIVE1MKEFwcC5jb25maWcuY2xpZW50VXJpICsgJy90cGwvdGVzdGNhc2UtZW50cnktZm9ybS5oYnMnKSxcclxuICAgICAgICAgICAgQXBwLmh0dHAuZ2V0SFRNTChBcHAuY29uZmlnLmNsaWVudFVyaSArICcvdHBsL3Rlc3RjYXNlLW1haW4tZm9ybS5oYnMnKVxyXG4gICAgICAgIF0sICh0cGxFbnRyeVI6IEh0dHBSZXNwb25zZUludGVyZmFjZSwgdHBsTWFpblI6IEh0dHBSZXNwb25zZUludGVyZmFjZSkgPT4ge1xyXG4gICAgICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVyUGFydGlhbCgnZW50cnknLCB0cGxFbnRyeVIuZ2V0Qm9keSgpKTtcclxuICAgICAgICAgICAgUGFnZS5yZW5kZXJFbGVtKCd0ZXN0Y2FzZS1tYWluLWZvcm0nLCA8c3RyaW5nPnRwbE1haW5SLmdldEJvZHkoKSwgdGhpcy50ZXN0Q2FzZSk7XHJcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEFkZFRlc3RFbnRyeUJ0bigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVuZGVyRXJyb3JQb3B1cChlcnJvcjogRXJyb3JSZXNwb25zZURUTykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB2YXIgbXNnVHh0OiBzdHJpbmcgPSAnU29tZSBraW5kIG9mIGVycm9yIG9jY3VycmVkLic7XHJcbiAgICAgICAgaWYgKGVycm9yLmVycm9yICYmIGVycm9yLmVycm9yLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgbXNnVHh0ID0gZXJyb3IuZXJyb3IubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LmFsZXJ0KG1zZ1R4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlckNoYXJ0UGFuZWwoKSB7XHJcbiAgICAgICAgdmFyIHBhbmVsID0gbmV3IFRvdGFsQ2hhcnRQYW5lbCh0aGlzLCB0aGlzLnRlc3RDYXNlKTtcclxuICAgICAgICBwYW5lbC5nZXREYXRhKCkudGhlbigocjogSHR0cFJlc3BvbnNlSW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgIHBhbmVsLnJlbmRlcig8VG90YWxCeUJyb3dzZXJbXT5yLmdldEJvZHkoKSk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2U6IEh0dHBSZXNwb25zZUludGVyZmFjZSkge1xyXG4gICAgICAgICAgICBQYWdlLnJlbmRlckVycm9yUG9wdXAoPEVycm9yUmVzcG9uc2VEVE8+cmVzcG9uc2UuZ2V0Qm9keSgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIGJpbmRTYXZlQnRuKCkge1xyXG4gICAgICAgIHZhciAkc2F2ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlLXRlc3RjYXNlLWJ1dHRvbicpO1xyXG5cclxuICAgICAgICAkc2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIFBhZ2UudG9nZ2xlUmVuZGVyQnRuKCdzYXZlLXRlc3RjYXNlLWJ1dHRvbicsICdkaXNhYmxlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGVzdENhc2VEVE8gPSBUZXN0Q2FzZS5jcmVhdGVFbnRpdHlGcm9tRE9NRWxlbWVudCgnd3JhcHBlcicpO1xyXG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGJyb3dzZXIgZGF0YS5cclxuICAgICAgICAgICAgdGVzdENhc2VEVE8uZW52ID0gPFRlc3RDYXNlRW52PntcclxuICAgICAgICAgICAgICAgIGJyb3dzZXJOYW1lOiBwbGF0Zm9ybS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgYnJvd3NlclZlcnNpb246IHBsYXRmb3JtLnZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICBvczogcGxhdGZvcm0ub3NcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIEFwcC5odHRwLnBvc3RKU09OKEFwcC5jb25maWcuc2VydmVyVXJpICsgJy90ZXN0cy5qc29uJywgdGVzdENhc2VEVE8pXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBQYWdlLnRvZ2dsZVJlbmRlckJ0bignc2F2ZS10ZXN0Y2FzZS1idXR0b24nLCAnYWN0aXZhdGUnKTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlOiBIdHRwUmVzcG9uc2VJbnRlcmZhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBQYWdlLnRvZ2dsZVJlbmRlckJ0bignc2F2ZS10ZXN0Y2FzZS1idXR0b24nLCAnYWN0aXZhdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBQYWdlLnJlbmRlckVycm9yUG9wdXAoPEVycm9yUmVzcG9uc2VEVE8+cmVzcG9uc2UuZ2V0Qm9keSgpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBiaW5kUnVuQnRuKCkge1xyXG4gICAgICAgIHZhciBfcGFnZSA9IHRoaXM7XHJcbiAgICAgICAgdmFyICRydW5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnVuLXRlc3RjYXNlLWJ1dHRvbicpO1xyXG5cclxuICAgICAgICAvLyAnUnVuIHRlc3RzJyBidXR0b24uXHJcbiAgICAgICAgJHJ1bkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIFBhZ2UudG9nZ2xlUmVuZGVyQnRuKCdydW4tdGVzdGNhc2UtYnV0dG9uJywgJ2Rpc2FibGUnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZXN0Q2FzZURUTyA9IFRlc3RDYXNlLmNyZWF0ZUVudGl0eUZyb21ET01FbGVtZW50KCd3cmFwcGVyJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGJyb3dzZXIgZGF0YS5cclxuICAgICAgICAgICAgdGVzdENhc2VEVE8uZW52ID0gPFRlc3RDYXNlRW52PntcclxuICAgICAgICAgICAgICAgIGJyb3dzZXJOYW1lOiBwbGF0Zm9ybS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgYnJvd3NlclZlcnNpb246IHBsYXRmb3JtLnZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICBvczogcGxhdGZvcm0ub3NcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlbmRlciAnUmVzdWx0cycgcGFuZWwgd2l0aCBwcmVsaW1pbmFyeSBkYXRhLlxyXG4gICAgICAgICAgICBBcHAuaHR0cC5nZXRIVE1MKGAke0FwcC5jb25maWcuY2xpZW50VXJpfS90cGwvdGVzdGNhc2UtcmVzdWx0cy10YWJsZS5oYnNgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHI6IEh0dHBSZXNwb25zZUludGVyZmFjZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIFBhZ2UucmVuZGVyRWxlbSgncmVzdWx0cycsIDxzdHJpbmc+ci5nZXRCb2R5KCksIHRlc3RDYXNlRFRPKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBKUyBjb2RlIGFuZCBydW4gaXQgaW4gYnJvd3Nlci5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcnVubmVyID0gbmV3IFJ1bm5lcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRlc3RDYXNlKHRlc3RDYXNlRFRPKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVubmVyLnJ1bigpLnRoZW4oKHJlc3VsdHM6IFJ1bm5lclJlc3VsdFtdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlLWFjdGl2YXRlICdSdW4nIGJ0bi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUGFnZS50b2dnbGVSZW5kZXJCdG4oJ3J1bi10ZXN0Y2FzZS1idXR0b24nLCAnYWN0aXZhdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgdGVzdCByZXN1bHRzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcGFnZS5zZW5kUmVzdWx0cyhyZXN1bHRzKS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgJ0NoYXJ0IFBhbmVsJy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW5kZXJpbmcgQ2hhcnQgUGFuZWwgLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFnZS5yZW5kZXJDaGFydFBhbmVsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYWdlLnJlbmRlckVycm9yUG9wdXAoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYmluZEFkZFRlc3RFbnRyeUJ0bigpIHtcclxuICAgICAgICAvLyAnQWRkIG5ldyB0ZXN0JyBidXR0b24uXHJcbiAgICAgICAgdmFyICRidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRlc3QtbGluaycpO1xyXG5cclxuICAgICAgICAkYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBjb25zb2xlLmxvZygnY2xpY2s/Jyk7XHJcblxyXG4gICAgICAgICAgICBBcHAuaHR0cC5nZXRIVE1MKGAke0FwcC5jb25maWcuY2xpZW50VXJpfS90cGwvdGVzdGNhc2UtZW50cnktZm9ybS5oYnNgKS50aGVuKChyZXNwb25zZTogSHR0cFJlc3BvbnNlSW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdG8gbW9kZWwuXHJcbiAgICAgICAgICAgICAgICAvLyBAdG9kbyBUaGlzIHNob3VsZCBiZSB0aGUgTVZDcyBqb2IuXHJcbiAgICAgICAgICAgICAgICB2YXIgZW50cnlJZCA9IFBhZ2UuZ2V0TmV4dFRlc3RDYXNlRW50cnlJZCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld1Rlc3RFbnRyeSA9IFRlc3RDYXNlLmNyZWF0ZUVtcHR5VGVzdENhc2VFbnRyeShlbnRyeUlkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVzdENhc2UuYWRkRW50cnkobmV3VGVzdEVudHJ5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZW5kZXIgbmV3IHRlc3QgZW50cnkuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUocmVzcG9uc2UuZ2V0Qm9keSgpKTtcclxuICAgICAgICAgICAgICAgIHZhciBodG1sID0gdGVtcGxhdGUobmV3VGVzdEVudHJ5KTtcclxuICAgICAgICAgICAgICAgIHZhciAkbmV3RW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICRuZXdFbnRyeS5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgICAgICAgICAgICAgdmFyICRlbnRyaWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VudHJpZXMnKTtcclxuICAgICAgICAgICAgICAgICRlbnRyaWVzLmFwcGVuZENoaWxkKCRuZXdFbnRyeS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIC8vIEJpbmQgZXZlbnRzIHRvIGl0LlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kUmVtb3ZlVGVzdEVudHJ5QnRuKGVudHJ5SWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIGJpbmRSZW1vdmVUZXN0RW50cnlCdG4oZW50cnlJZDogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyICRlbnRyaWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VudHJpZXMnKTtcclxuICAgICAgICB2YXIgJGVudHJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc3RjYXNlLXRlc3QtJyArIGVudHJ5SWQpO1xyXG4gICAgICAgIHZhciAkYnV0dG9uID0gJGVudHJ5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Rlc3RjYXNlLXRlc3QtcmVtb3ZlJyk7XHJcblxyXG4gICAgICAgICRidXR0b25bMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2s/Jyk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBtb2RlbC5cclxuICAgICAgICAgICAgLy8gQHRvZG8gVGhpcyBzaG91bGQgYmUgdGhlIE1WQ3Mgam9iLlxyXG4gICAgICAgICAgICB0aGlzLnRlc3RDYXNlLnJlbW92ZUVudHJ5KGVudHJ5SWQpO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gRE9NLlxyXG4gICAgICAgICAgICAkZW50cmllcy5yZW1vdmVDaGlsZCgkZW50cnkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIGdldE5leHRUZXN0Q2FzZUVudHJ5SWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Rlc3RjYXNlLXRlc3QnKS5sZW5ndGggKyAxO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgdG9nZ2xlUmVuZGVyQnRuKGlkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyICRidG4gPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG5cclxuICAgICAgICBpZiAoc3RhdHVzID09PSAnYWN0aXZhdGUnKSB7XHJcbiAgICAgICAgICAgICRidG4uY2xhc3NMaXN0LnJlbW92ZSgnYnRuLWxvYWRpbmcnKTtcclxuICAgICAgICAgICAgJGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRidG4uY2xhc3NOYW1lICs9ICcgYnRuLWxvYWRpbmcnO1xyXG4gICAgICAgICAgICAkYnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRSZXN1bHRzKHJlc3VsdHM6IFJ1bm5lclJlc3VsdFtdKTogUHJvbWlzZTxIdHRwUmVzcG9uc2VJbnRlcmZhY2U+IHtcclxuXHJcbiAgICAgICAgLy8gUmVmcmVzaCB0aGUgdGVzdENhc2Ugb2JqZWN0LlxyXG4gICAgICAgIC8vIEB0b2RvIE1vZGVsIGlzIG5vdCBrZWVwaW5nIHVwIHdpdGggRE9NIGNoYW5nZXMuIFJlZmFjdG9yLlxyXG4gICAgICAgIHZhciB0ZXN0Q2FzZURUTyA9IFRlc3RDYXNlLmNyZWF0ZUVudGl0eUZyb21ET01FbGVtZW50KCd3cmFwcGVyJyk7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgcmVzdWx0cy5cclxuICAgICAgICAvLyBLZWVwIHRoZSBvcmlnaW5hbCBmb3JtIG9yZGVyLlxyXG4gICAgICAgIC8vIFRoYXQncyB3aHkgcmVzdWx0cyBpcyBhbiBvYmplY3Qgc3RhcnRpbmcgZnJvbSBrZXkgMS5cclxuICAgICAgICBmb3IgKHZhciBpIGluIHJlc3VsdHMpIHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHRzLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZXN0Q2FzZURUTy5lbnRyaWVzW2ldLnJlc3VsdHMgPSByZXN1bHRzW2ldO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHRoZSBicm93c2VyIGRhdGEuXHJcbiAgICAgICAgdGVzdENhc2VEVE8uZW52ID0gPFRlc3RDYXNlRW52PntcclxuICAgICAgICAgICAgYnJvd3Nlck5hbWU6IHBsYXRmb3JtLm5hbWUsXHJcbiAgICAgICAgICAgIGJyb3dzZXJWZXJzaW9uOiBwbGF0Zm9ybS52ZXJzaW9uLFxyXG4gICAgICAgICAgICBvczogcGxhdGZvcm0ub3NcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0ZXN0Q2FzZURUTywgSlNPTi5zdHJpbmdpZnkodGVzdENhc2VEVE8pKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBtb2RlbC5cclxuICAgICAgICB0aGlzLnRlc3RDYXNlID0gVGVzdENhc2UuY3JlYXRlKHRlc3RDYXNlRFRPKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEFwcC5odHRwLnBvc3RKU09OKGAke0FwcC5jb25maWcuc2VydmVyVXJpfS90ZXN0cy5qc29uYCwgdGVzdENhc2VEVE8pO1xyXG4gICAgfTtcclxuXHJcbn1cclxuXHJcbmludGVyZmFjZSBCdXR0b25FdmVudFRhcmdldCBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcclxuICAgIGRhdGFzZXQ6IHtcclxuICAgICAgICBlbnRyeUlkOiBudW1iZXI7XHJcbiAgICB9O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRXJyb3JSZXNwb25zZURUTyB7XHJcbiAgICBlcnJvcjoge1xyXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZyxcclxuICAgICAgICBkYXRhOiBBcnJheTx7XHJcbiAgICAgICAgICAgIHJlYXNvbjogc3RyaW5nLFxyXG4gICAgICAgICAgICBjb2RlOiBzdHJpbmdcclxuICAgICAgICB9PixcclxuICAgICAgICBjb2RlOiBzdHJpbmdcclxuICAgIH07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFJvdXRlciB7XHJcbiAgICBwcm90ZWN0ZWQgcm91dGVzOiBSb3V0ZVtdID0gW107XHJcblxyXG4gICAgcHVibGljIHJ1bihjdXN0b21QYXRoPzogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIHBhdGg6IHN0cmluZyA9IGN1c3RvbVBhdGggPyBjdXN0b21QYXRoIDogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgICAgIHZhciByb3V0ZSA9IHRoaXMubWF0Y2hSb3V0ZShwYXRoKTtcclxuICAgICAgICBpZiAocm91dGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvdXRlLmFjdGlvbi5hcHBseShudWxsLCByb3V0ZS5hcmdzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdObyB2YWxpZCByb3V0ZSBmb3VuZC4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFJvdXRlKHBhdGg6IHN0cmluZywgYWN0aW9uOiBGdW5jdGlvbikge1xyXG4gICAgICAgIGlmICghcGF0aCB8fCAhYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucm91dGVzLnB1c2goe1xyXG4gICAgICAgICAgICBwYXRoOiBwYXRoLFxyXG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogMS4gR0VUIC90ZXN0L3NkYWRhYWQxMi90b3RhbHMvYnlTdHVmZi5qc29uXHJcbiAgICAgKiAyLiBUcnkgbWF0Y2ggd2l0aCAvdGVzdC97dGVzdH0vdG90YWxzL3tmaWx0ZXJ9Lmpzb25cclxuICAgICAqIDMuXHJcbiAgICAgKiB2YXIgYWEgPSBcIi90ZXN0L3NkYWRhYWQxMi90b3RhbHMvYnlTdHVmZi5qc29uXCIubWF0Y2gobmV3IFJlZ0V4cChcIlxcL3Rlc3RcXC8oW2EtejAtOV0rKVxcL3RvdGFsc1xcLyhbYS16MC05XSspXFwuanNvblwiLCAnaScpKTsgYWEgPSBhYS5zbGljZSgxLCBhYS5sZW5ndGgpO1xyXG4gICAgKi9cclxuICAgIHByb3RlY3RlZCBtYXRjaFJvdXRlKHBhdGg6IHN0cmluZyk6IFJlcXVlc3RlZFJvdXRlIHtcclxuICAgICAgICB2YXIgbWF0Y2hGb3VuZDogQXJyYXk8c3RyaW5nPjtcclxuICAgICAgICB2YXIgcHJlcGFyZWRQYXRoOiBzdHJpbmc7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvdXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBwcmVwYXJlZFBhdGggPSBgXiR7Um91dGVyLnByZXBhcmVQYXRoKHRoaXMucm91dGVzW2ldLnBhdGgpfSRgO1xyXG4gICAgICAgICAgICBtYXRjaEZvdW5kID0gcGF0aC5tYXRjaChuZXcgUmVnRXhwKHByZXBhcmVkUGF0aCwgJ2knKSk7XHJcbiAgICAgICAgICAgIGlmIChtYXRjaEZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IG1hdGNoRm91bmQuc2xpY2UoMSwgbWF0Y2hGb3VuZC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxSZXF1ZXN0ZWRSb3V0ZT57XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogdGhpcy5yb3V0ZXNbaV0ucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMucm91dGVzW2ldLmFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RlZFBhdGg6IHBhdGhcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBwcmVwYXJlUGF0aChwYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC97W2Etel0rfS9nLCAnKFthLXowLTktXSspJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBSb3V0ZSB7XHJcbiAgICBwYXRoOiBzdHJpbmc7XHJcbiAgICBhY3Rpb246IEZ1bmN0aW9uO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUmVxdWVzdGVkUm91dGUgZXh0ZW5kcyBSb3V0ZSB7XHJcbiAgICByZXF1ZXN0ZWRQYXRoOiBzdHJpbmc7XHJcbiAgICBhcmdzOiBBcnJheTxzdHJpbmc+O1xyXG59XHJcbiIsImltcG9ydCB7VGVzdENhc2V9IGZyb20gJy4vVGVzdENhc2UnO1xyXG5pbXBvcnQgUHJvbWlzZSA9IFEuUHJvbWlzZTtcclxuXHJcbmV4cG9ydCBjbGFzcyBSdW5uZXIge1xyXG4gICAgcHJvdGVjdGVkIHRlc3RDYXNlOiBUZXN0Q2FzZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IodGVzdENhc2U6IFRlc3RDYXNlKSB7XHJcbiAgICAgICAgdGhpcy50ZXN0Q2FzZSA9IHRlc3RDYXNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBydW4oKTogUHJvbWlzZTx7W2tleTogbnVtYmVyXTogUnVubmVyUmVzdWx0fT4ge1xyXG4gICAgICAgIGlmICghdGhpcy50ZXN0Q2FzZS5pc1JlYWR5VG9SdW4oKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBuZWVkIHRvIGhhdmUgYXQgbGVhc3QgdHdvIGNvZGUgZW50cmllcyBpbiBvcmRlciB0byBydW4gdGhlIHRlc3QgY2FzZS4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBydW5uZXIgLi4uJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRCZW5jaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGFydEJlbmNoKCk6IFByb21pc2U8e1trZXk6IG51bWJlcl06IFJ1bm5lclJlc3VsdH0+IHtcclxuICAgICAgICB2YXIgZGVmZXJyZWRRID0gUS5kZWZlcjx7W2tleTogbnVtYmVyXTogUnVubmVyUmVzdWx0fT4oKTtcclxuXHJcbiAgICAgICAgdmFyIHRlc3RDYXNlID0gdGhpcy50ZXN0Q2FzZTtcclxuICAgICAgICB2YXIgYmVuY2hlczogQmVuY2htYXJrW10gPSBbXTtcclxuICAgICAgICB2YXIgYmVuY2g6IEJlbmNobWFyaztcclxuICAgICAgICB2YXIgcmVzdWx0czoge1trZXk6IG51bWJlcl06IFJ1bm5lclJlc3VsdH0gPSB7fTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaiBpbiB0ZXN0Q2FzZS5lbnRyaWVzKSB7XHJcbiAgICAgICAgICAgIGlmICghdGVzdENhc2UuZW50cmllcy5oYXNPd25Qcm9wZXJ0eShqKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJlbmNoID0gbmV3IEJlbmNobWFyayh0ZXN0Q2FzZS5lbnRyaWVzW2pdLnRpdGxlLCB7XHJcbiAgICAgICAgICAgICAgICBpZDogaixcclxuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2V0dXA6IHRlc3RDYXNlLmhhcm5lc3Muc2V0VXAsXHJcbiAgICAgICAgICAgICAgICB0ZWFyZG93bjogdGVzdENhc2UuaGFybmVzcy50ZWFyRG93bixcclxuICAgICAgICAgICAgICAgIGZuOiB0ZXN0Q2FzZS5lbnRyaWVzW2pdLmNvZGUsXHJcbiAgICAgICAgICAgICAgICBvblN0YXJ0OiBmdW5jdGlvbihlOiBCZW5jaG1hcmsuRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmVuY2hSZXN1bHQ6IEJlbmNobWFyayA9IDxCZW5jaG1hcms+ZS50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgUnVubmVyLnJlbmRlclJlc3VsdChiZW5jaFJlc3VsdC5pZCwgJ1N0YXJ0aW5nIC4uLicpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKGU6IEJlbmNobWFyay5FdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBiZW5jaFJlc3VsdDogQmVuY2htYXJrID0gPEJlbmNobWFyaz5lLnRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzW2JlbmNoUmVzdWx0LmlkXSA9IDxSdW5uZXJSZXN1bHQ+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYmVuY2hSZXN1bHQuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBiZW5jaFJlc3VsdC5lcnJvciA/IEJlbmNobWFyay5qb2luKGJlbmNoUmVzdWx0LmVycm9yKSA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wc1BlclNlYzogYmVuY2hSZXN1bHQuaHoudG9GaXhlZChiZW5jaFJlc3VsdC5oeiA8IDEwMCA/IDIgOiAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BzUGVyU2VjRm9ybWF0dGVkOiBCZW5jaG1hcmsuZm9ybWF0TnVtYmVyKGJlbmNoUmVzdWx0Lmh6LnRvRml4ZWQoYmVuY2hSZXN1bHQuaHogPCAxMDAgPyAyIDogMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbTogYmVuY2hSZXN1bHQuc3RhdHMucm1lLnRvRml4ZWQoMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1blNhbXBsZXM6IGJlbmNoUmVzdWx0LnN0YXRzLnNhbXBsZS5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIFJ1bm5lci5yZW5kZXJSZXN1bHQoYmVuY2hSZXN1bHQuaWQsIHJlc3VsdHNbYmVuY2hSZXN1bHQuaWRdLm9wc1BlclNlY0Zvcm1hdHRlZCArICcgKCZwbHVzbW47JyArIHJlc3VsdHNbYmVuY2hSZXN1bHQuaWRdLnBtICsgJyknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIEtlZXAgdGhlIG9yaWdpbmFsIG9yZGVyLCBldmVuIGlmIHRoZSBjb2RlIGNvbnRlbnQgb3IgdGl0bGUgY2hhbmdlcy5cclxuICAgICAgICAgICAgYmVuY2hlcy5wdXNoKGJlbmNoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBCZW5jaG1hcmsuaW52b2tlKGJlbmNoZXMsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdydW4nLFxyXG4gICAgICAgICAgICAgICAgYXJnczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIC8vICdxdWV1ZWQnOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb25TdGFydDogKGU6IEJlbmNobWFyay5FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBiZW5jaG1hcmtzIC4uLicsIGUpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uQ3ljbGU6IChlOiBCZW5jaG1hcmsuRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb25DeWNsZSBoZXJlLicsIGUpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uRXJyb3I6IChlOiBCZW5jaG1hcmsuRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb25FcnJvciBoZXJlLicsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkUS5yZWplY3QobmV3IEVycm9yKCdSdW5uaW5nIHN1aXRlIHJldHVybmVkIGFuIGVycm9yLicpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoZTogQmVuY2htYXJrLkV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29uQ29tcGxldGUgaGVyZS4nLCBlLCByZXN1bHRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgUnVubmVyLnJlbmRlcldpbm5lclJlc3VsdChCZW5jaG1hcmsuZmlsdGVyKGJlbmNoZXMsICdmYXN0ZXN0JylbMF0uaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIFJ1bm5lci5yZW5kZXJMb3NlclJlc3VsdChCZW5jaG1hcmsuZmlsdGVyKGJlbmNoZXMsICdzbG93ZXN0JylbMF0uaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkUS5yZXNvbHZlKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkUS5wcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgcmVuZGVyUmVzdWx0KGlkOiBzdHJpbmcgfCBudW1iZXIsIHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIHZhciAkZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0Y2FzZS10ZXN0LXJlc3VsdC10ZXh0LScgKyBpZCk7XHJcbiAgICAgICAgJGVsZW0uaW5uZXJIVE1MID0gdGV4dDtcclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyByZW5kZXJXaW5uZXJSZXN1bHQoaWQ6IHN0cmluZyB8IG51bWJlcikge1xyXG4gICAgICAgIHZhciAkZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0Y2FzZS10ZXN0LXJlc3VsdC10ZXh0LScgKyBpZCk7XHJcbiAgICAgICAgJGVsZW0uY2xhc3NOYW1lICs9ICcgc3VjY2Vzcyc7XHJcbiAgICB9O1xyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgcmVuZGVyTG9zZXJSZXN1bHQoaWQ6IHN0cmluZyB8IG51bWJlcikge1xyXG4gICAgICAgIHZhciAkZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0Y2FzZS10ZXN0LXJlc3VsdC10ZXh0LScgKyBpZCk7XHJcbiAgICAgICAgJGVsZW0uY2xhc3NOYW1lICs9ICcgZGFuZ2VyJztcclxuICAgIH07XHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJ1bm5lclJlc3VsdCB7XHJcbiAgICBpZDogbnVtYmVyO1xyXG4gICAgZXJyb3I6IHN0cmluZztcclxuICAgIG9wc1BlclNlYzogc3RyaW5nO1xyXG4gICAgb3BzUGVyU2VjRm9ybWF0dGVkOiBzdHJpbmc7XHJcbiAgICBwbTogc3RyaW5nO1xyXG4gICAgcnVuU2FtcGxlczogbnVtYmVyO1xyXG59XHJcbiIsImltcG9ydCB7VXRpbH0gZnJvbSAnLi9VdGlscyc7XHJcbmltcG9ydCB7UnVubmVyUmVzdWx0fSBmcm9tICcuL1J1bm5lcic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGVzdENhc2Uge1xyXG4gICAgcHJvdGVjdGVkIF90aXRsZTogc3RyaW5nO1xyXG4gICAgcHJvdGVjdGVkIF9zbHVnOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgX2Rlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgX3N0YXR1czogc3RyaW5nO1xyXG4gICAgcHJvdGVjdGVkIF9oYXJuZXNzOiBUZXN0Q2FzZUhhcm5lc3M7XHJcbiAgICBwcm90ZWN0ZWQgX2VudHJpZXM6IFRlc3RDYXNlRW50cnlbXTtcclxuICAgIHByb3RlY3RlZCBfZW52OiBUZXN0Q2FzZUVudjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IodGVzdENhc2U6IFRlc3RDYXNlRW50aXR5KSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRlc3RDYXNlLnRpdGxlO1xyXG4gICAgICAgIHRoaXMuc2x1ZyA9IHRlc3RDYXNlLnNsdWc7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IHRlc3RDYXNlLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gdGVzdENhc2Uuc3RhdHVzO1xyXG4gICAgICAgIHRoaXMuaGFybmVzcyA9IHRlc3RDYXNlLmhhcm5lc3M7XHJcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gdGVzdENhc2UuZW50cmllcztcclxuICAgICAgICB0aGlzLmVudiA9IHRlc3RDYXNlLmVudjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IHRpdGxlKHRpdGxlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgdGl0bGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldCBzbHVnKHNsdWc6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX3NsdWcgPSBzbHVnO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgc2x1ZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zbHVnO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgZGVzY3JpcHRpb24oZGVzY3JpcHRpb246IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBkZXNjcmlwdGlvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IHN0YXR1cyhzdGF0dXM6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IHN0YXR1cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHN0YXR1cygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldCBoYXJuZXNzKGhhcm5lc3M6IFRlc3RDYXNlSGFybmVzcykge1xyXG4gICAgICAgIHRoaXMuX2hhcm5lc3MgPSBoYXJuZXNzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaGFybmVzcygpOiBUZXN0Q2FzZUhhcm5lc3Mge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oYXJuZXNzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgZW50cmllcyhlbnRyaWVzOiBUZXN0Q2FzZUVudHJ5W10pIHtcclxuICAgICAgICB0aGlzLl9lbnRyaWVzID0gZW50cmllcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGVudHJpZXMoKTogVGVzdENhc2VFbnRyeVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW50cmllcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRW50cnkoZW50cnk6IFRlc3RDYXNlRW50cnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9lbnRyaWVzW2VudHJ5LmlkXSA9IGVudHJ5O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFbnRyeShpZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VudHJpZXNbaWRdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgZW52KGVudjogVGVzdENhc2VFbnYpIHtcclxuICAgICAgICB0aGlzLl9lbnYgPSBlbnY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBlbnYoKTogVGVzdENhc2VFbnYge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbnY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzUmVhZHlUb1J1bigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKFV0aWwuZ2V0T2JqTGVuZ3RoKHRoaXMuZW50cmllcykgPiAyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0ZXN0Q2FzZUVudGl0eTogVGVzdENhc2VFbnRpdHkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRlc3RDYXNlKHRlc3RDYXNlRW50aXR5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUVtcHR5RW50aXR5KCk6IFRlc3RDYXNlRW50aXR5IHtcclxuICAgICAgICByZXR1cm4gPFRlc3RDYXNlRW50aXR5PntcclxuICAgICAgICAgICAgdGl0bGU6ICcnLFxyXG4gICAgICAgICAgICBzbHVnOiBVdGlsLnJhbmRvbVN0cmluZygxMCksXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcclxuICAgICAgICAgICAgc3RhdHVzOiAncHVibGljJyxcclxuICAgICAgICAgICAgaGFybmVzczogPFRlc3RDYXNlSGFybmVzcz57XHJcbiAgICAgICAgICAgICAgICBodG1sOiAnJyxcclxuICAgICAgICAgICAgICAgIHNldFVwOiAnJyxcclxuICAgICAgICAgICAgICAgIHRlYXJEb3duOiAnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnRyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICA8VGVzdENhc2VFbnRyeT57aWQ6IDEsIHRpdGxlOiAnJywgY29kZTogJyd9LFxyXG4gICAgICAgICAgICAgICAgPFRlc3RDYXNlRW50cnk+e2lkOiAyLCB0aXRsZTogJycsIGNvZGU6ICcnfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUVudGl0eUZyb21ET01FbGVtZW50KGlkOiBzdHJpbmcpOiBUZXN0Q2FzZUVudGl0eSB7XHJcbiAgICAgICAgdmFyICRlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSAgPHt0ZXN0Q2FzZTogVGVzdENhc2VFbnRpdHl9PmZvcm1Ub09iamVjdCgkZWxlbSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC50ZXN0Q2FzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUVtcHR5VGVzdENhc2VFbnRyeShpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIDxUZXN0Q2FzZUVudHJ5PntcclxuICAgICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgICB0aXRsZTogJycsXHJcbiAgICAgICAgICAgIGNvZGU6ICcnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUZXN0Q2FzZUVudGl0eSB7XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgc2x1Zzogc3RyaW5nO1xyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIHN0YXR1czogc3RyaW5nO1xyXG4gICAgaGFybmVzczogVGVzdENhc2VIYXJuZXNzO1xyXG4gICAgZW50cmllczogVGVzdENhc2VFbnRyeVtdO1xyXG4gICAgZW52OiBUZXN0Q2FzZUVudjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFRlc3RDYXNlSGFybmVzcyB7XHJcbiAgICBodG1sOiBzdHJpbmc7XHJcbiAgICBzZXRVcDogc3RyaW5nO1xyXG4gICAgdGVhckRvd246IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFRlc3RDYXNlRW50cnkge1xyXG4gICAgaWQ6IG51bWJlcjtcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBjb2RlOiBzdHJpbmc7XHJcbiAgICByZXN1bHRzPzogUnVubmVyUmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RDYXNlRW52IHtcclxuICAgIGJyb3dzZXJOYW1lOiBzdHJpbmc7XHJcbiAgICBicm93c2VyVmVyc2lvbjogc3RyaW5nO1xyXG4gICAgb3M6IHN0cmluZztcclxufVxyXG4iLCJpbXBvcnQge1Rlc3RDYXNlfSBmcm9tICcuL1Rlc3RDYXNlJztcclxuaW1wb3J0IHtQYWdlfSBmcm9tICcuL1BhZ2UnO1xyXG5pbXBvcnQge1BhbmVsfSBmcm9tICcuL1BhbmVsJztcclxuaW1wb3J0IHtIdHRwUmVzcG9uc2VJbnRlcmZhY2V9IGZyb20gJy4vSHR0cCc7XHJcbmltcG9ydCB7QXBwfSBmcm9tICcuL0FwcCc7XHJcbmltcG9ydCBQcm9taXNlID0gUS5Qcm9taXNlO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvdGFsQ2hhcnRQYW5lbCBpbXBsZW1lbnRzIFBhbmVsIHtcclxuICAgIHByb3RlY3RlZCBwYWdlOiBQYWdlO1xyXG4gICAgcHJvdGVjdGVkIHRlc3RDYXNlOiBUZXN0Q2FzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYWdlOiBQYWdlLCB0ZXN0Q2FzZTogVGVzdENhc2UpIHtcclxuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xyXG4gICAgICAgIHRoaXMudGVzdENhc2UgPSB0ZXN0Q2FzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGF0YSgpOiBQcm9taXNlPEh0dHBSZXNwb25zZUludGVyZmFjZT4ge1xyXG4gICAgICAgIHJldHVybiBBcHAuaHR0cC5nZXRKU09OKGAke0FwcC5jb25maWcuc2VydmVyVXJpfS90ZXN0LyR7dGhpcy50ZXN0Q2FzZS5zbHVnfS90b3RhbHMvYnktYnJvd3Nlci5qc29uYCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQHRvZG8gU2ltcGxpZnkgdGhpcyBieSBhZGRpbmcgYSAzcmRwYXJ0eSBjaGFydCBsaWJyYXJ5LlxyXG4gICAgcHVibGljIHJlbmRlcihkYXRhOiBUb3RhbEJ5QnJvd3NlcltdKSB7XHJcbiAgICAgICAgdmFyICRjaGFydERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFydC1kaXYnKTtcclxuICAgICAgICBpZiAoJGNoYXJ0RGl2LmNsYXNzTmFtZSA9PT0gJ3JlbmRlcmVkJykge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIoZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ29vZ2xlLmNoYXJ0cy5sb2FkKCdjdXJyZW50Jywge3BhY2thZ2VzOiBbJ2NvcmVjaGFydCcsICdiYXInXX0pO1xyXG4gICAgICAgICAgICBnb29nbGUuY2hhcnRzLnNldE9uTG9hZENhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcihkYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfcmVuZGVyKGRhdGE6IFRvdGFsQnlCcm93c2VyW10pIHtcclxuICAgICAgICB2YXIgJGNoYXJ0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXJ0LWRpdicpO1xyXG4gICAgICAgIHZhciBjaGFydCA9IG5ldyBnb29nbGUudmlzdWFsaXphdGlvbi5CYXJDaGFydCgkY2hhcnREaXYpO1xyXG5cclxuICAgICAgICB2YXIgYnJvd3NlcnM6IGFueVtdID0gW107XHJcbiAgICAgICAgdmFyIHJlc3VsdHNTZXQ6IGFueVtdID0gW107XHJcblxyXG4gICAgICAgIGRhdGEubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgICAgICB2YXIgZW50cnlSZXN1bHRzOiBhbnkgPSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogZW50cnkudGl0bGVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZW50cnkudG90YWxzLmZvckVhY2goZnVuY3Rpb24odG90YWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBicm93c2VySWRlbnRpZmllciA9IHRvdGFsLmJyb3dzZXJOYW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJyb3dzZXJzLmluZGV4T2YoYnJvd3NlcklkZW50aWZpZXIpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyb3dzZXJzLnB1c2goYnJvd3NlcklkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZW50cnlSZXN1bHRzW2Jyb3dzZXJJZGVudGlmaWVyXSA9IHBhcnNlSW50KHRvdGFsLm1ldHJpY1ZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlc3VsdHNTZXQucHVzaChfLm1hcChlbnRyeVJlc3VsdHMpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYnJvd3NlcnMudW5zaGlmdCgnVG90YWwnKTtcclxuICAgICAgICByZXN1bHRzU2V0LnVuc2hpZnQoYnJvd3NlcnMpO1xyXG5cclxuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgbGVnZW5kOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmFyczogJ2hvcml6b250YWwnLFxyXG4gICAgICAgICAgICBjaGFydEFyZWE6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAnODAlJyxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnODAlJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY2hhcnQuZHJhdyhcclxuICAgICAgICAgICAgZ29vZ2xlLnZpc3VhbGl6YXRpb24uYXJyYXlUb0RhdGFUYWJsZShyZXN1bHRzU2V0KSxcclxuICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgJGNoYXJ0RGl2LmNsYXNzTmFtZSA9ICdyZW5kZXJlZCc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG90YWxCeUJyb3dzZXIge1xyXG4gICAgdGl0bGU6IHN0cmluZztcclxuICAgIHRvdGFsczogVG90YWxCeUJyb3dzZXJNZXRyaWNbXTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUb3RhbEJ5QnJvd3Nlck1ldHJpYyB7XHJcbiAgICBicm93c2VyTmFtZTogc3RyaW5nO1xyXG4gICAgbWV0cmljVHlwZTogc3RyaW5nO1xyXG4gICAgbWV0cmljVmFsdWU6IHN0cmluZztcclxuICAgIHJ1bkNvdW50OiBzdHJpbmc7XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFV0aWwge1xyXG4gICAgcHVibGljIHN0YXRpYyByYW5kb21TdHJpbmcobGVuOiBudW1iZXIsIGNoYXJTZXQ/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGNoYXJTZXQgPSBjaGFyU2V0IHx8ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XHJcbiAgICAgICAgdmFyIHJhbmRvbVN0cmluZyA9ICcnO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHJhbmRvbVBveiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJTZXQubGVuZ3RoKTtcclxuICAgICAgICAgICAgcmFuZG9tU3RyaW5nICs9IGNoYXJTZXQuc3Vic3RyaW5nKHJhbmRvbVBveiwgcmFuZG9tUG96ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByYW5kb21TdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHJlYWwgbnVtYmVyIG9mIHByb3BlcnRpZXMgZnJvbSBhbiBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0T2JqTGVuZ3RoKG86IE9iamVjdCk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvICE9PSAnb2JqZWN0JyB8fCBvID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGw6IG51bWJlciA9IDA7XHJcbiAgICAgICAgdmFyIGs6IGFueTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBsID0gT2JqZWN0LmtleXMobykubGVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAoayBpbiBvKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGwrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBlc2NhcGVGb3JSZWdleChzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxdXS9nLCAnXFxcXCQmJyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtBcHB9IGZyb20gJy4vQXBwJztcclxuXHJcbmxldCBzZXJ2ZXJVcmkgPSB3aW5kb3cubG9jYXRpb24uaG9zdCA9PT0gJ2pzYmVuY2gub3JnJyA/ICdodHRwOi8vYXBpLmpzYmVuY2gub3JnL3YyJyA6ICdodHRwOi8vYXBpLWRldi5qc2JlbmNoLm9yZy92Mic7XHJcbmxldCBjbGllbnRVcmkgPSAnaHR0cDovLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdDtcclxuXHJcbm5ldyBBcHAoe1xyXG4gICAgc2VydmVyVXJpOiBzZXJ2ZXJVcmksXHJcbiAgICBjbGllbnRVcmk6ICBjbGllbnRVcmlcclxufSk7XHJcbiJdfQ==
